<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="/style/main.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<title>검증 기능을 blur이벤트에 작성</title>
<style>
	.fail {
		color: red;
		font-size: 0.8em;
	}
</style>
</head>
<body>
	<div id="app">
		<header th:replace="~{/fragment/header.html}"> </header>
		<nav th:replace="~{/fragment/nav.html}"></nav>
		<main>
			<aside th:replace="~{/fragment/aside.html}"></aside>
			<section>
				<div class="mb-3 mt-3">
    			<label for="username" class="form-label">아이디:</label>
    			<input type="text" class="form-control" id="username" placeholder="아이디 입력..." name="username">
    			<span class="fail" id="username-msg"></span>
  			</div>
  			<div class="mb-3 mt-3">
    			<label for="password" class="form-label">비밀번호:</label>
    			<input type="password" class="form-control" id="password" placeholder="비밀번호 입력..." name="password">
    			<span class="fail" id="password-msg"></span>
  			</div>
  			<div class="d-grid mb-3 mt-3">
  				<button type="button" class="btn btn-outline-primary btn-block" id="join">가입</button>
  			</div> 
			</section>
			<aside th:replace="~{/fragment/aside.html}"></aside>
		</main>
		<footer th:replace="~{/fragment/footer.html}"> </footer>
	</div>
	<script>
		$('#username').on("blur", function(e) {
			const value = e.target.value;
			const $msg = $('#username-msg');
			const pattern = /^[a-z0-9]{6,10}$/;
			
			$msg.text('');
			
			if(value=='')
				$msg.text('아이디를 입력하세요');
			else if(pattern.test(value)==false)
				$msg.text('아이디는 소문자와 숫자 6~10자입니다');
		});
	</script>			
</body>
</html>







